# 关于具有状态依赖连接的 Krause 多智能体共识模型

Vincent D. Blondel、Julien M. Hendrickx 和 John N. Tsitsiklis，IEEE 研究员

---

摘要—我们研究了克劳斯引入的意见动力学模型：**每个智能体都有一个由实数表示的意见，并通过平均所有与自己意见相差小于一的智能体意见来更新其意见。**我们给出了一个新的证明，即收敛到智能体集群中，同一集群中的所有智能体都持有相同的意见。然后，我们引入了一种特定的平衡稳定性概念，并在稳定平衡时提供了聚类间距离的下界。为了更好地理解系统在智能体数量较大时的行为，我们还引入并研究了一个涉及连续智能体的变体，在一些温和的假设下获得了部分收敛结果和聚类间距离的下界。

关键词—共识、分散式控制、多智能体系统、观点动态。







我们把注意力集中在一个有趣的现象上，即平衡星系团间距离通常明显大于1，并且通常接近2。我们提出了一种基于添加扰动剂的稳定性概念来解释这种现象。我们发现，这种稳定性转化为簇间距离的某个下限，当簇具有相同的权重时，该下限等于2。我们还讨论了这样一个猜想，即当智能体的数量足够大时，系统在“大多数”初始条件下收敛到稳定的平衡。

1. **意见动态的局部性**：智能体之间的相互作用是基于局部信息的，即每个智能体只考虑与其意见接近的邻居的意见。这种局部性导致了意见动态的非线性特性，从而可能产生聚类间距离较大的现象。
2. **收敛性分析**：作者通过数学分析证明了在一定条件下，智能体的意见会收敛到特定的聚类状态至少大于1。在这个过程中，聚类间的距离可能会因为智能体更新意见的规则而自然增长。
3. **稳定性考量**：文章中引入了稳定性的概念，特别是在考虑加入一个额外的“扰动”智能体时系统的稳定性。作者发现，为了保持系统的稳定性，聚类间的距离需要足够大，以防止小的扰动导致聚类合并。
4. **模拟实验**：通过模拟实验，作者观察到在多种不同的初始条件下，聚类间的距离往往会明显大于1。这一观察结果与理论分析相吻合，支持了文章中的结论。
5. **模型的普遍性**：尽管Krause模型是确定性的，但作者指出，类似的聚类现象也在随机模型中观察到，这表明这种现象具有一定的普遍性，不仅仅是特定于Krause模型。
6. **社会心理学原理**：文章可能还引用了社会心理学中的“有限信心”原理，即个体只与意见相近的其他个体交流，这可能导致意见的极化和聚类间距离的增加。

粒度问题

1. **尺度选择**：在模拟大规模多智能体系统时，如何选择一个合适的尺度来表示智能体的状态和它们之间的交互。例如，如果尺度太粗，可能会忽略掉重要的局部动态；如果尺度太细，则可能导致计算复杂度过高，难以处理。
2. **状态空间的划分**：智能体的状态空间如何划分会影响到模型的粒度。在某些情况下，可能需要将连续的状态空间离散化，以便在计算机上进行模拟。这种离散化过程需要考虑如何平衡粒度和模型的准确性。
3. **交互规则的简化**：在设计智能体之间的交互规则时，可能需要对复杂的交互进行简化，以便在有限的计算资源下进行模拟。这种简化可能会引入额外的粒度问题，因为它可能忽略一些微妙的交互效应。
4. **计算资源的限制**：在实际的模拟中，计算资源（如内存和处理能力）是有限的。因此，研究者需要在保证模型准确性的同时，选择合适的粒度来确保模拟的可行性。
5. **模型的适用性**：不同的粒度可能适用于不同类型的问题和研究目标。例如，对于某些宏观行为的研究，可能需要较粗的粒度；而对于研究个体层面的细微差别，则可能需要较细的粒度。

---

## 一.介绍

近年来，对多智能体系统的研究越来越受到关注，其中智能体根据简单的局部规则进行交互，从而产生可能是协调的全局行为。在一个著名的范式中，每个智能体维护一个值，通过取其他智能体值的线性、通常是凸组合来更新该值；参见例如 [5]、[17]、[18]、[26]、[29] 和 [27]、[28] 的调查。智能体之间的交互通常不是全连接的，而是由一个连接拓扑来描述。在一些应用中，这个拓扑是固定的，但是一些研究考虑了更有趣的情况，即变化的拓扑。例如，在 Vicsek 的群集模型中 [31]，动物被建模为在二维平面上移动的智能体。所有智能体具有相同的速度，但可能有不同的航向，每个时间步，它们通过对其附近的智能体的航向求平均来更新其航向。当拓扑依赖于智能体状态的组合时，就像在 Vicsek 的模型中一样，考虑到这种依赖关系的分析可能会很困难。因此，拓扑序列通常被视为外生的（参见例如 [4]、[18]、[26]），有一些显著的例外 [8]、[9]、[19]。例如，[8] 的作者考虑了在 [18] 中研究的模型的变体，其中通信是全连接的，但一个智能体对另一个智能体给予的相对重要性是由分开这两个智能体的距离加权的。他们给出了智能体航向收敛到一个共同值以及任意两个智能体之间的距离收敛到一个常数的条件。同样的作者在 [9] 中放宽了全连接的假设，并研究了通信受到任意变化但是连通的拓扑限制。

---

我们在这里考虑了一个简单的离散时间系统，涉及内生变化的拓扑结构，并在分析中明确考虑了拓扑结构对系统状态的依赖性。离散代理模型如下。有代理者，每个代理者维护一个实值 。**这些值根据以下方式同步更新(每个智能体值的更新方式）理解为邻居集求和/邻居集个数**
$$
x_{i}(t+1)=\frac{\sum_{j:\left|x_{i}(t)-x_{j}(t)\right|<1} x_{j}(t)}{\sum_{j:\left|x_{i}(t)-x_{j}(t)\right|<1} 1}
$$
**ps:+1说明每秒更新，全同步用上一时刻邻居的平均值来更新自己**

**交互半径指的就是邻居划分的半径**



：两个代理，对于它们 ，被称为邻居或连接（在时间 上）。请注意，根据这个定义，**代理者总是其自身的邻居**。因此，在这个模型中，每个代理者通过计算其邻居的值的平均值来更新其值。在接下来的内容中，我们通常将代理者的值称为“意见”，有时也称为“位置”。

![image-20240331160637964](https://yilaoshi.oss-cn-guangzhou.aliyuncs.com/picture/image-20240331160637964.png)

*图1. 根据模型（1），1000个代理者意见的时间演变。初始意见要么是均匀分布的（情况（a）），要么是随机选择的（情况（b）），在长度为10的区间上。在两种情况下，意见都会收敛到彼此之间相距远远大于交互半径的极限值（“集群”），交互半径被设定为1。*

---

这个模型（1）是由Krause [20]引入的，用来捕捉意见形成的动态。数值代表对某个主题的意见，如果另一个代理的意见与其相差不到1，则一个代理将其视为“合理”。因此，每个代理通过计算其认为“合理”的意见的平均值来更新其意见。这个系统有时也被称为Hegselmann-Krause模型，参考[15]。它在文献中得到了大量的研究[20]，[21]，[23]，[24]，并显示出一些未被解释的特殊属性。**例如，实验证明，初始均匀分布在一个区间上的意见往往会收敛到相距略大于2的意见集群**，如图1所示。相反，目前可用的结果只能证明收敛到相距至少1的集群。

---

DW模型

对于这个系统观察到的集群间距离的解释，或者对非平凡下限的证明目前还没有。对于类似的随机模型，也被观察到了大于交互半径的集群间距离（在我们的情况中设置为1），这也被Deffuant等人观察到。在这个相关随机模型中，通常被称为Deffuant-Weisbuch模型。**在那个模型中，每次随机选择两个代理者来更新他们的意见。如果他们的意见相差超过某个阈值，他们的意见保持不变；否则，每个代理者都会移动到一个新的意见，该意见是其之前意见和另一个代理者的意见的加权平均值。**因此，Krause模型和Deffuant-Weisbuch模型都依赖于有界信心的相同思想，但不同之处在于一个是随机的，而另一个是确定的。此外，Krause的模型涉及潜在的所有代理者之间的同时交互，而Deffuant-Weisbuch模型中的交互是成对的。尽管存在这些差异，但这两个系统的行为相似，包括**集群间距离显着大于交互半径**。Deffuant-Weisbuch模型的行为，特别是集群的最终位置，还通过考虑连续密度来近似代理者的离散分布，并研究描述这种密度演变的偏微分方程进行了研究。其他模型，无论是涉及离散时间还是连续时间，无论是有限数量还是无限数量的代理者，都已经被提出。有关调查，请参见[25]。

---

我们考虑的模型也与某些会合算法（参见，例如，[22]）相似，在这些算法中，目标是使所有代理者汇聚到一个单一点。如果代理者的位置在给定半径内，则它们被视为相邻的。更新规则满足两个条件。首先，当代理者移动时，其新位置是其先前位置和其相邻代理者位置的凸组合。**其次，如果两个代理者是相邻的，则在更新位置后它们仍然是相邻的。这确保了初始连接的代理者集合永远不会被分成较小的组，因此所有代理者确实可以汇聚到同一点。**

---

在本文中，我们首先对模型（1）进行了简单的收敛性证明。然后，我们引入了一种特定的平衡稳定性概念，涉及当平衡被引入额外代理者干扰时的鲁棒性要求，并证明了当且仅当所有集群间距离均高于某个非平凡下限时，平衡才是稳定的。我们通过实验证明，**收敛到稳定平衡的概率随着代理者数量的增加而增加**。为了更好地理解大量代理者的情况，我们引入并研究了模型的一个变体，涉及代理者的连续体（“连续代理者”模型）。我们给出了部分收敛结果，并在一些正则性假设下提供了平衡时集群间距离的下限。我们还表明，对于大量的离散代理者，离散代理者模型的行为确实逼近了连续代理者模型。

---

我们的**连续代理者模型**，最初在[6]中介绍，是**通过将代理者编制为实数而不是整数获得的**。它等同于所谓的“基于离散时间密度的Hegselmann-Krause模型”，该模型独立提出于[25]，其又类似于[13]中以连续时间设置的模型。此外，**我们的模型也可以看作是当离散意见的数量趋向无穷大时的极限**，即由Lorenz [24]提出的“交互马尔可夫链模型”；在后者模型中，存在代理者的连续分布，但意见采用离散集合中的值。

---

**总概括**：

我们在第II节中提供了对离散代理者模型（1）的分析。然后我们在第III节中考虑了连续代理者模型。我们在第IV节中研究了这两个模型之间的关系，最后在第V节中结束了结论性的评论和开放性问题。

---

## 二.离散代理模型THE DISCRETE-AGENT MODEL

### A. 基本属性和收敛性

我们从离散代理者模型（1）的某些基本属性的介绍开始，其中大部分已经在[15]，[21]，[23]中被证明。

命题1（[21]中的引理2）：设(x(t))是按照(1)演化的n维向量序列。意见的顺序被保持：如果xi(0) < xj(0)，那么对于所有的t，都有xi(t) < xj(t)。

证明：我们使用归纳法。假设xi(t) < xj(t)。让Ni(t)是连接到i而不连接到j的代理者集合，Nj(t)是连接到j而不连接到i的代理者集合，Nij(t)是同时连接到i和j的代理者集合，此处我们假设这些集合都是非空的，但如果其中一些为空，我们的论证可以很容易地进行调整。对于任何k1∈Ni(t)，k2 ∈Nij(t)，和k3∈Nj(t)，我们有x~k1~(t)≤x~k2~(t)≤x~k3~(t)。因此，xNi< xNij < xNj(都为均值)，其中x~Ni~，x~Nij~，x~Nj~分别是对应集合中x~k~(t)的平均值。由(1)可知：
$$
x_{i}(t+1)=\frac{\left|N_{i j}\right| \bar{x}_{N_{i j}}+\left|N_{i}\right| \bar{x}_{N_{i}}}{\left|N_{i j}\right|+\left|N_{i}\right|} \leq \bar{x}_{N_{i j}}
$$

$$
x_{i}(t+1)=\frac{\left|N_{i j}\right| \bar{x}_{N_{i j}}+\left|N_{i}\right| \bar{x}_{N_{i}}}{\left|N_{i j}\right|+\left|N_{i}\right|} \geq \bar{x}_{N_{i j}}
$$

在这里，符号( |A| )用来表示集合(A)的基数。

鉴于这一结果，在接下来的推导中，我们将假设，不失一般性，初始意见已排序：如果(i < j)，则(x_i(t) < x_j(t))。下一个命题立即由模型定义得出。

**总结：可以理解为单调**

---

命题2：让 (x(t)) 是一个按照(1)演变的
$$
\mathbb{R}^n
$$
中的向量序列，且( x(0) )是排序的，即如果( i < j )，那么( x_i(0) < x_j(0) )。最小的意见( X_1 )随时间非递减，而最大的意见( X_n )随时间非增。此外，如果在某个时间点两个连续代理者意见( x_i(t) )和( x_{i+1}(t) )之间的距离大于或等于1，则对于所有后续时间( t’ \geq t )，它仍然保持不变，因此系统可以分解为两个独立的子系统，分别包含代理者( 1,…,i )和( i+1,…,n )。

**总结：一个邻居集合内每个智能体的意见不会超过极端值，且他们之间的意见差达到或超过一个交互半径，他们之间的差距将不断缩小，系统可以分解为i之前和i之后的两个子系统**

---

请注意，与Deffuant-Weisbusch模型[10]或[16]中的连续时间模型等其他相关模型不同，意见的平均值不一定被保持，而“方差”（与平均值的差异的平方和）有时可能会增加。有关三个和八个代理者的例子，请参阅[16]。模型（1）的收敛性已经在文献中得到证实（参见[12]，[23]），并且也可以从外生确定的连通性序列的收敛结果轻松推导出来（例如，请参见[5]，[17]，[23]，[26]），这种方法可以扩展到更高维度的意见情况。我们在这里提供一个简单的替代证明，利用了我们正在处理的特定动态。

**定理1：如果( x(t) )按照方程(1)演变，那么对于每个( i )，( x_i(t) )在有限时间内收敛到一个极限$( x^* )$。此外，对于任意( i,j )，我们要么$( x_i = x_j )$，要么**$( |x^*-x_j| \geq 1 )$

**总结：极限状态要么相同，要么远大于交互半径**

证明：由于假设( x(0) )是排序的，意见$( x_1 )$是非递减的，并且上界为$( x_n(0) )$。因此，它收敛到一个值$( x_1 )$。设( p )是最高的索引，使得$( x_p )$收敛到$( x_1 )$。

我们要证明的是，如果( p < n )，则存在时间( t )使得

$( x_{p+1}(t) - x_p(t) \geq 1 )$。假设，为了得出矛盾，假设不存在这样的时间，即$( x_{p+1}(t) - x_p(t) )$始终小于1。固定某个( $\epsilon$ > 0 )，并在某个时间点之后，( i = 1,…,p )的代理者与( x_1 )的距离小于( $\epsilon$ )。由于$( x_{p+1} )$不收敛到( x_1 )，存在一个进一步的时间点，在该时间点( x_{p+1} )大于$( x_1 + \delta )$（其中( $\delta $> 0 )）。对于这样的时间( t )，$( x_p(t + 1) )$至少为
$$
[
\frac{1}{p+1}\sum_{i=1}^{p+1} x_i(t) \geq \frac{n}{p+1}((x_i - \epsilon) + (x_i + \delta))
]
$$
这大于$( x_1 + \epsilon )$，如果$\epsilon$ 足够小的话。然而，这与$( x_p )$保持在距离( $\epsilon$  )内的要求相矛盾。这个矛盾表明存在一个时间( t )，在这个时间之后$( x_{p+1}(t) - x_p(t) \geq 1 )$。在此时间点之后，利用命题2，( x_p )不能增加，$( x{p+1} )$不能减少，因此不等式将$( x{p+1} - x_p \geq 1 )$永远持续下去。特别地，代理者( 1,…,p )不再与剩余代理者互动。因此，如果( p < n )，那么在某个有限时间后，代理者( p + 1,…,n )的行为就像一个独立的系统，我们可以对其应用相同的论证。继续递归，这就建立了所有意见收敛到至少相隔1的极限值。
**总结：所有意见收敛到至少相隔1的极限值。**

---

我们仍然需要证明收敛发生在有限时间内。考虑收敛到特定极限值的代理者集合。根据上面的论证，存在一个时间点，在此之后，它们都不再与该集合外的任何代理者连接。此外，由于它们收敛到一个共同的值，它们最终会足够接近，以至于它们彼此相连。当这种情况发生时，它们都计算相同的平均值，在下一个时间步骤达成相同的意见，并在随后的所有时间内保持这个意见。因此，它们在**有限时间内收敛**。对于整个系统的有限时间收敛是因为**代理者数量是有限**的。

**我们将意见收敛到的极限值称为聚类。在术语上有些滥用，我们也将代理者意见收敛到共同值的集合称为聚类。**

可以证明，**收敛时间上界受到某个仅依赖于( n )的常数( c(n) )的限制**。另一方面，一个与( n )无关的上界是不可能的，即使所有代理者的意见都位于区间[ 0，L ]，其中( L )是一个固定的值。为了证明这一点，考虑( n )个代理者，( n )为奇数，一个代理者最初位于1，$( \frac{n-1}{2} )$个代理者最初位于0.1和1.9。所有代理者将收敛到1的一个单一聚类，**但随着( n )的增长，收敛时间增加到无穷大。** 

我们注意到，在定理1中的收敛结果在考虑具有可数个代理者的相同模型时不成立。事实上，考虑一个具有可数无穷个代理者的情况，所有代理者的初始意见均为正数。设( m(y) )表示具有初始意见( y )的代理者数量。假设$( a \in (1/2,1) )$，并考虑一个初始条件，其中( m(0) = 0 )，( m© = 1 )，对于每个整数( k > 1 )，$( m(a(k+ 1)) = m(ak) + 3m(a(k-1)) )$，且对于其他任何( y )的值，( m(y) = 0 )。然后，更新规则(1)意味着对于每个代理者( i )和时间( t )，有$( x_i(t+1) = x_i(t) + \frac{a}{2} )$，并且收敛不会发生。具有可数个代理者的情况也可以存在聚类之间相隔小于1的平衡状态。一个这样的平衡状态的例子是考虑在1/2的整数倍处有一个代理者。 

**总结：无穷则规则一不成立**

**我们还注意到，当意见是流形元素而不是实数线时，聚类之间相隔小于1的平衡状态也是可能的。**例如，假设意见属于[ 0，2\pi) ]（与单位圆的元素相对应），如果且仅当$[ |x_i - x_j \mod 2\pi| < 1 ]$时两个代理者是邻居。如果每个代理者通过移动到其邻居角度的平均值来更新自己的角度，可以看出一个具有( n )个代理者初始角度位$ \frac{2\pi k}{n} ，( k = 0,…,n-1 )$于的初始配置是一个平衡状态。此外，还存在更复杂的平衡状态。对于这种类型的模型，已经实验观察到了收敛，但尚无证明。

---

### B.实验观察

定理 1表明，意见会收敛到至少相隔1的聚类中。由于最小和最大意见分别是非递减和非递增的，因此可以得出结论，初始限定在长度区间L内的意见最多可以收敛到[L] + 1个聚类。然而，文献中观察到，**聚类之间的距离通常显著大于1**（参见[21]，[24]和图1），导致聚类数量显著小于[L] + 1这个上界。为进一步研究这一现象，我们分析了类似于[24]中的不同实验结果。图2显示了聚类数量和位置对的依赖关系，对于代理者数量较大且初始意见在长度区间L上均匀分布的情况。类似的增量分析也出现在文献中的各种类似系统中[2]，[14]，[24]，[25]。我们看到，**聚类的位置倾向于以分段连续（有时是线性的）方式随 ( L ) 变化。不连续点对应于新聚类的出现，或者将一个聚类分裂成两个较小的聚类。**

![image-20240331161211969](https://yilaoshi.oss-cn-guangzhou.aliyuncs.com/picture/image-20240331161211969.png)

**x表示意见的数量，y表示聚类的位置离L/2的距离，每分出一条代表聚类数量增加**

*Fig. 2显示了在平衡状态下，不同聚类的位置与代理者数量 ( L ) 的关系，其中有 5000L 个代理者，他们的初始意见在区间 [0, L] 上均匀分布，以它们距离 ( L/2 ) 的距离来表示。**虚线表示初始意见分布的端点 0 和 ( L )。**如果初始意见是随机选择的，并且服从均匀分布，那么也会得到类似的结果。*

聚类的数量随着L线性增加**（说的是分叉）**，其系数略小于1/2，对应于略大于2的聚类间距。然而，请注意，这种演变比看起来更复杂：随着L的增长，可以观察到聚类间距和它们的权重的不规则性，正如[24]中已经指出的那样。此外，对于更大规模的模拟（L = 1000，n = 10^6），一小部分聚类的权重远大于或远小于其他聚类，并且一些聚类间距大约为4或小约为1.5。这些不规则性可能是模型固有的，但也可能是所选择的特定离散化或在不连续系统中数值误差的累积的结果。

由于Krause模型中观察到的聚类间距缺乏非平凡的下界来解释，我们从三个观察开始，这些观察可以引导我们对其进行部分理解。实际上，最后一个观察将引导我们进行形式化的稳定性分析，这将在下一小节中展开。

- a) 我们从图2中观察到，导致多个聚类出现的L的最小值约为5.1，而定理1只要求此值至少为1。这激发了我们去探讨是否可以通过解析方法得出更准确的界限。假设有一个奇数个初始观点均匀分布在[0，L]上的代理人。一个明确的计算表明，在一次迭代后，所有观点都属于一个区间[1/2-0(1/n),L-1/2+O(1/n)]，而在两次迭代后，属于一个区间[11/12- 0(1/n),L- 11/12 + O(1/n)]。此外，根据命题2，所有观点随后必须保持在这些区间内。另一方面，请注意，对于奇数个代理人，有一个代理人始终停留在L/2处。因此，如果所有观点最终进入区间(L/2 - 1,L/2 + 1)，那么只能有一个聚类。这意味着如果L- 11/12 +O(1/n)< L/2+1，也就是说，如果L < 23/6- O(1/n)≈3.833，则会有一个单一的聚类。这个界限小于实验观察到的约5.1的值。通过进一步计算迭代后的最小位置，可以进一步改进这个界限。此外，只要代理人的数量足够大，如果代理人的数量是偶数，或者存在随机的初始观点，就可以进行类似的分析。

- b) 当L足够大时，图2显示最左侧聚类的位置不再依赖于L。这可以通过分析信息的传播来解释：在每次迭代中，代理人只受到与其自身距离为1的那些观点的影响，并且其观点的修改量不超过1。因此，信息在每次迭代中最多传播2的距离。对于初始观点均匀分布在[0，L]上的情况，当L很大时，初始观点接近0的代理人至少在最初的迭代中表现出，好像观点最初是均匀分布在[0，+∞)上一样。此外，一旦一组观点与其他观点的距离超过1，这个组就会脱离。因此，如果初始观点接近0的代理人在有限时间内与其余代理人分离，那么它们在足够大的L下的均匀初始分布[0，L]下的演化就与在均匀初始分布[0，+∞)下的情况相同。

	我们进行了模拟，初始观点均匀分布在[0，+∞)上，就像[24]中所述。我们发现，每个代理人最终都与有限数量的代理人连接，并与其余代理人断开连接。然后形成的群体行为独立，并收敛到聚类中。如图3所示，两个连续聚类之间的距离接近2.2。这些距离部分解释了聚类数量的演化（作为的函数）如图2所示。然而，这些观察到的性质的证明尚不可得，并且连续的聚类间距是否具有某种规律性或收敛性质尚不清楚。

- c) 最后一个观察结果有助于更好地理解聚类间距的大小。假设L略低于形成两个聚类的临界值，并注意结果演化的特殊性质，如图4所示。系统首先收敛到一个“亚稳态”，其中有两个群体，它们之间相隔略大于1的距离，因此彼此不直接交互。然而，这两个群体逐渐被介于它们之间的一些孤立代理所吸引；此外，这些孤立代理同时被这两个群体吸引，并保持在两个群体中观点的加权平均值处。最终，两个群体之间的距离变小于1，两个群体开始直接相互吸引，并合并成一个单一的聚类。（这对应于[24]中观察到的慢收敛现象之一。）因此，初始朝向两个聚类平衡的收敛变得不可能，因为中间存在一些代理。此外，相对于两个群体中的代理数量，破坏亚稳态所需的这些孤立代理的数量可以任意小。另一方面，如果两个聚类之间的距离足够大，则不会出现这种现象。

	![image-20240331171748197](https://yilaoshi.oss-cn-guangzhou.aliyuncs.com/picture/image-20240331171748197.png)

	*图3. 当初始观点在一个半无限区间上均匀分布时的时间演化，每单位长度密度为**100**。代理人群体与其余代理人分离，并收敛到大约相距2.2的聚类。*

	![image-20240331171847225](https://yilaoshi.oss-cn-guangzhou.aliyuncs.com/picture/image-20240331171847225.png)

	*图4. 临时“亚稳态”状态的示例。最初，形成了两个不相互交互的群体，但它们都与中间的少数代理进行交互。结果，分隔两个群体的距离缓慢减小，并最终变小于1。在那一点上，群体直接相互吸引，并合并成一个单一的聚类。*

	例如，如果距离大于2，没有代理可以同时连接到两个群体。这表明，根据聚类之间的距离，一些平衡状态对于少数额外代理的存在是稳定的，而另一些则不是。

### C. 对干扰代理的稳定性

在本节中，我们引入了平衡稳定性的概念，其动机是上一节中的最后一个观察结果。我们首先推广模型(1), 使每个智能体 $i$ 都具有相关的权重 $w_i$ , 并根据加权离散智能体模型

$$
x_i(t+1)=\frac{\sum_{j:|x_i(t)-x_j(t)|<1}w_jx_j(t)}{j:|x_i(t)-x_j(t)|<1}.
$$


更新观点，可以验证，定理 1 中的收敛性结果以及命题 1 和 2 中证明的属性仍然成立。我们将一个集群的权重定义为集群中所有代理的权重之和。注意，如果系统（1）中的代理具有相同的位置，它们在模型（2）中的行为就像一个单一的代理，其权重为 w_i。这种对应关系也可以反过来，因此（2）可以被视为（1）的一个特例，只要权重 w_i 是整数，或者更一般地说，是有理数。

让我们$\bar{x}$ 成为平衡状态的代理意见的向量。假设我们添加一个以 o 为索引的扰动因子，具有权重$\delta$ 和初始意见 $\tilde{x}_0$ ,我们让系统再次演化，直到它收敛到一个新的扰动平衡，然后去除扰动因子。$\bar{x}^{\prime}$ 这样得到的意见向量又是一个均衡。我们定义 $\Delta_{\tilde{x}_0,\delta}=\sum_iw_i|\bar{x}_i-\bar{x}_i^{\prime}|$ , 它是原始平衡和扰动平衡之间距离的度量。我们说，如果$\sup_{\tilde{x}_0}\Delta_{\tilde{x}_0,\delta}$由给定重量$\delta$ 的扰动因子引起的初始平衡和扰动平衡之间的最大距离在消失时$\delta$收敛到零，则$\bar{x}$它是稳定的。等效地，如果任意小重量的扰动因子可以引起平衡的实质性变化，则平衡是不稳定的。

**定理 2 当且仅当对于任意两个簇 $A$ 和 $B$ 和 时，平衡是稳定的，并且权重$W_A$ 为$W_B$ 和，分别成立：要么$W_A=W_B$和 簇间距离大于或等于 2;或者$W_A\neq W_B$, 并且簇间距离严格大于 $1+\min\left(W_A,W_B\right)/\max\left(W_A,W_B\right)$。(请注意，这两种情况是一致的，只是第二种情况涉及严格的不等式。**

（注意这两个情况是一致的，除了第二种情况涉及到一个严格的不等式。）

证明：我们首先解释定理陈述中的严格不等式的含义。考虑两个集群 A 和 B，位于位置 x_A 和 x_B，让我们计算它们的质心 x_cm，然后进行简单的计算表明：
$$
\begin{gathered}
|x_A-x_B|>1+\frac{\min(W_A,W_B)}{\max(W_A,W_B)} \\
\text{ifandonlyif} \\
\max\{|m-x_A|,|m-x_B|\}>1. 
\end{gathered}
$$
假设均衡$\bar{x}_0$满足定理中的条件。我们将证明这是$\bar{x}_0$ 稳定的。让我们插入一个重量 $\delta$ 的扰动剂。请注意，由于$\bar{x}_0$ 是平衡，因此簇至少相距 1个，因此抗动因子最多连接到两个簇。如果此代理与所有集群断开连接，则它没有影响，并且 $\Delta_{\tilde{x}_0,\delta}=0$ .如果它正好连接到一个簇 $A$ , 具有位置 $x_A$ 和权重$W_A$,则系统在一个时间步长后达到新的平衡，其中扰动因子和簇都有意见

 $(\tilde{x}_0\delta+x_AW_A)/(\delta+W_A)$。然后


$$
\Delta_{\tilde{x}_0,\delta}=|\tilde{x}_0-x_A|\cdot\frac\delta{\delta+W_A}\leq\frac\delta{\delta+W_A}
$$
收敛到$o$为$\delta\to0$。最后假设扰动代理连接到两个簇$A,B$。这意味着这两个聚类之间的距离小
于 2, 并且由于 $\tilde{x}_0$ 满足定理中的条件，因此它必须大于 $1+\min\left(W_A,W_B\right)/\max\left(W_A,W_B\right)$ 。因此，使用 (3),其中一个星团与其质 $m$ 心的距离大于 1。在一次迭代后，扰动智能体的意见在内 $O(\delta)m$, 而两个集群只移动一个 $O(\delta)$ 量。由于两个簇之一之间的 $m$ 原始距离大于 1, 因此在一次迭代之后，当$\delta$足够小时，扰动因子与其中一个簇的距离大于 1, 这让我们回到了前面考虑的情况，并再次暗示随着 $\delta$ 减少收 $\Delta_{\tilde{x}_0,\delta}$ 敛到零。

为了证明反之亦然，我们现在假设两个簇 $A$ 和 $B$ 之间的 $x_Ax_B$ 距离小于 2, 也小于$1+\min\left(W_A,W_B\right)/\max\left(W_A,W_B\right)$。假设在不损失一般性的情况下，$x_A<x_B$ 它们的质 $m$心在区间 $(x_B-1,x_A+1)$ 内。让我们修复一个 $\epsilon>0$ 这样的
 $(m-\epsilon,m+\epsilon)\subseteq(x_B-1,x_A+1)$ .假设在引入扰动因子后的某个时间$t$ ,我们有
$$
\tilde{x}_0(t)\in(m(t)-\epsilon,m(t)+\epsilon)\subseteq(x_B(t)-1,x_A(t)+1)
$$

PView Source 0 $x_B(t)-x_A(t)\geq1$,其中$\tilde{x}_0(t)$、$x_A(t)$、$x_B(t)$ 和 $m(t)$ 分别表示扰动因子、簇 A 和 B 以及它们的质心的位置$t$。可以很容易地验证$x_A(t+1)=x_A(t)+|\Theta(\delta)|>x_A(t)$, 和
 $x_B(t+1)=x_B(t)-|\Theta(\delta)|$,因此 $x_B(t+1)-x_A(t+1)<x_B(t)-x_A(t)$ , 和$(m(t+1)-\epsilon,m(t+1)+\epsilon)\subseteq(x_B(t+1)-1,x_A(t+1)+1).$

此外，请注意，如果$\delta$为o，我们将有$\tilde{x}_0(t+1)=m(t)$.对于$\delta\neq0$, $\tilde{x}_0(t+1)$接近 $m(t)$ 于,我们有 $\tilde{x}_0(t+1)=m(t)+O(\delta)$。由于
$$
\begin{aligned}
m(t+1)& =\frac{W_Ax_A(t+1)+W_Bx_B(t+1)}{W_A+W_B}  \\
&=m(t)+O(\delta)
\end{aligned}
$$
我们得到 |m(t+1)−m(t)|=O(δ) ，因此 x~0(t+1)∈(m(t+1)−ϵ,m(t+1)+ϵ) ，只要 δ 相对于 足够小 ϵ 。

我们已经证明，如果选择 是为了 $\tilde{x}_0(0)=\tilde{x}_0$ 满足 的条件 (4), 如果 $\delta$ 足够小，(4) 则条件只要$x_B(t)-x_A(t)\geq1t=0$ 保持满足。因此，扰动因子仍然靠近质心，吸引两个星团，直到某个时候$t^*$我们有$x_B(t^*)-x_A(t^*)<1$。然后，两个集群在下一个时间步合并。该过程的结果与扰动剂的重量$\delta$无关，这证明$\bar{x}$ 其不稳定。最后，一个类似但稍微复杂一些的参数表明，当

 $|x_A-x_B|=1+\min\left(W_A,W_B\right)/\max\left(W_A,W_B\right)$ 和 $|x_A-x_B|<2$ 时，$\bar{x}$ 它是不稳定的。

**定理二根据簇间距离的下界来表征稳定平衡。它允许在稳定平衡下小于 2 的簇间距离，前提是簇具有不同的权重。这与某些初始意见分布的实验观察结果一致，如 所示 Fig. 5 。另一方面，对于经常观察到的权重相等的簇的情况，稳定性要求簇间距离至少为2。因此，这一结果接近于对观测到的约2.2的星系团间距离的完整解释。**

![image-20240331212824780](https://yilaoshi.oss-cn-guangzhou.aliyuncs.com/picture/image-20240331212824780.png)

***Fig. 5**收敛到稳定平衡的示例，其中簇的间隔小于 2。意见的初始分布是通过取 [0,2.5] 251 个均匀分布的意见和 500 个均匀分布的意见来 [2.5,3] 获得的。意见收敛成两个集群，分别有 153 个和 598 个代理，它们相隔一段距离 1.6138>1.2559=1+153/598 。当使用较多的代理时，如果初始意见以相同的方式分布，即 [2.5,3] 密度比 上的 [0,2.5] 密度大十倍，则获得类似的结果*

![image-20240401204901772](https://yilaoshi.oss-cn-guangzhou.aliyuncs.com/picture/image-20240401204901772.png)

*代理人意见的时间演变，当初始意见从一个常见的概率密度函数中抽取时，该函数在区间（2.5,3）上的值大于在区间（0,2.5）上的值。在（a）中，我们有501个代理人，它们收敛到一个不稳定的均衡状态：两个集群的权重分别为152和349，它们的距离为1.399 < 1 + 152/349 ≃ 1.436。在（b）中，我们有5001个代理人，它们收敛到一个稳定的均衡状态：最初我们看到两个集群形成，但最终它们被介于两者之间的少数代理人所吸引而聚集在一起。*

一般来说，不能保证系统 [(1)](https://ieeexplore.ieee.org/document/#deqn1) 会收敛到稳定的平衡。（一个微不足道的例子是通过在不稳定的平衡下初始化系统来获得的，例如 xi(0)=−1/2 一半的代理和 xi(0)=1/2 另一半的代理）。另一方面，我们观察到，对于给定的初始意见的平滑分布，并且随着智能体数量的增加，我们几乎总是会收敛到稳定的平衡。这就引出了以下猜想。

- 猜想1：假设初始意见是根据特定的连续且有界支持的概率密度函数（PDF）随机独立选择的。那么，随着代理人数量趋向无穷大，收敛到稳定均衡的概率趋于1。

	除了大量的数值证据（参见例如， Fig. 6 ），这个猜想还得到了一个直觉思想的支持，即如果智能体的数量足够大，每当两组智能体开始形成两个簇时，中间仍然会有少量智能体，它们的存在将阻止收敛到不稳定的平衡。该猜想也得到了 Theorem 7 的支持，它 Section III 处理的是智能体的连续统，以及提供离散智能体和连续智能体模型之间链接的结果 Section IV 。

## 三.连续代理模型的引入

在第三节中，作者指出在多智能体系统中，当智能体的数量非常大时，可以通过引入连续代理模型来简化和分析系统的行为。连续代理模型是一种理想化的模型，它假设智能体的意见可以连续变化，并且智能体可以用连续的参数（如实数）来表示。这种模型有助于克服离散模型中的粒度问题，并能够提供对系统行为更平滑和连续的描述。

### 连续代理模型的描述

作者通过定义一个连续的时间演化过程来描述连续代理模型，其中每个智能体的意见随时间更新，更新规则与离散模型类似，但是适用于连续的意见空间。在这个模型中，每个智能体的意见更新依赖于其邻居的意见，并且假设所有智能体的意见都是非负的，并且有一个上界。

### 连续代理模型的数学表述

文章中提出了一个数学公式来描述连续代理模型的意见更新过程。这个公式涉及到一个邻接算子，它描述了智能体之间的连接关系，以及一个度函数，它表示每个智能体与多少其他智能体相连。此外，还引入了一个拉普拉斯算子来描述系统的全局连接性。这些数学工具帮助分析连续代理模型的动态行为。

### 连续代理模型的收敛性分析

作者研究了连续代理模型的收敛性，即系统是否能够随时间演化最终达到一个稳定的状态。文章中提出了一些关于系统收敛性的定理和引理**，证明了在适当的条件下，连续代理模型的意见动态会收敛到一个固定点，即所有智能体的意见最终会趋于一致。**

### **连续代理模型与离散**模型的关系

文章还探讨了连续代理模型与离散代理模型之间的关系。作者证明了在某些条件下，连续代理模型可以作为离散代理模型的极限情况。这意味着对于足够大的智能体系统，连续模型可以很好地近似离散模型的行为。

### 连续代理模型的稳定性分析

除了收敛性，作者还分析了连续代理模型的稳定性。文章中提出了关于系统平衡状态稳定性的条件，这些条件涉及到智能体之间意见的差异以及它们之间的连接强度。通过稳定性分析，作者展示了在某些条件下，系统能够抵抗小的扰动并维持其平衡状态。

### 总结

第三节 "The Continuous-Agent Model" 为理解和分析大规模多智能体系统中的意见动态提供了重要的理论工具。通过引入连续代理模型，作者能够更深入地研究系统的长期行为，并为设计和实现鲁棒的多智能体系统提供了理论支持。连续代理模型的引入不仅丰富了多智能体系统的理论框架，也为未来的研究提供了新的方向和工具。



## 四.离散与连续模型的对比

在第四节中，作者分析了离散智能体模型和连续智能体模型之间的联系与区别。离散模型通常涉及到有限数量的智能体，每个智能体在离散的时间步长内更新自己的状态。而连续模型则考虑了一个无限或连续的智能体集合，其中智能体的状态可以连续变化，并且更新过程也是连续的。

### 连续模型作为离散模型的极限

文章中指出，连续智能体模型可以视为离散智能体模型在智能体数量趋于无穷大时的极限情况。在这种情况下，离散模型中的每个智能体可以被看作是连续模型中的一个微小的子集，而离散模型中的更新规则在极限情况下转化为连续模型中的微分方程。

### 连续模型的数学表述

作者通过数学公式详细描述了连续智能体模型的动态行为。这包括定义了连续意见空间上的更新规则，以及如何使用数学工具（如邻接算子、度函数和拉普拉斯算子）来描述智能体之间的相互作用。

### 离散与连续模型之间的映射

文章探讨了如何从离散模型到连续模型的映射，以及这种映射在数学上的准确性。作者提出了一些定理和引理，证明了在适当的条件下，离散模型的动态行为可以被连续模型很好地近似。

### 稳定性和收敛性的比较

作者比较了离散模型和连续模型在稳定性和收敛性方面的表现。通过分析，作者展示了在连续模型中得到的稳定性条件和收敛性结果如何与离散模型中的结果相对应。

### 实验验证

为了验证离散模型和连续模型之间的关系，作者进行了模拟实验。通过改变智能体的数量和其他参数，作者展示了离散模型的行为如何逐渐逼近连续模型的预测。这些实验结果支持了文章中的理论分析，并展示了连续模型在模拟大规模多智能体系统时的有效性。

### 总结

第四节 "Relation Between the Discrete and the Continuous-Agent Models" 为理解离散和连续多智能体模型之间的关系提供了深刻的见解。通过建立这两种模型之间的联系，作者不仅扩展了对多智能体系统动态行为的理解，而且为设计和分析大规模系统提供了强有力的工具。这种关系的建立对于推动多智能体系统理论的发展和实际应用具有重要意义。

